{"ast":null,"code":"var _jsxFileName = \"F:\\\\Studies\\\\Programs\\\\IoC - System Design\\\\BookMyShow\\\\frontend\\\\src\\\\components\\\\Payment.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Payment = ({\n  token\n}) => {\n  _s();\n  const {\n    bookingId\n  } = useParams();\n  const [processing, setProcessing] = useState(false);\n  const navigate = useNavigate();\n  const handlePayment = async (bypass = false) => {\n    setProcessing(true);\n    try {\n      const response = await axios.post('http://localhost:5000/payment', {\n        bookingId,\n        bypass\n      }, {\n        headers: {\n          Authorization: token\n        }\n      });\n      alert(response.data.message);\n      navigate('/shows');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      alert(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Payment failed');\n    }\n    setProcessing(false);\n  };\n  const handleCancel = async () => {\n    try {\n      const response = await axios.post('http://localhost:5000/cancel', {\n        bookingId\n      }, {\n        headers: {\n          Authorization: token\n        }\n      });\n      alert(response.data.message);\n      navigate('/shows');\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      alert(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || 'Cancellation failed');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"payment-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Payment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"payment-options\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Booking ID: \", bookingId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handlePayment(true),\n        disabled: processing,\n        children: processing ? 'Processing...' : 'Mock Payment (Bypass)'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleCancel,\n        children: \"Cancel & Refund\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/shows'),\n        children: \"Back to Shows\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(Payment, \"I+50PIfD15JfoDPZ+Onct7kTzBc=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = Payment;\nexport default Payment;\nvar _c;\n$RefreshReg$(_c, \"Payment\");","map":{"version":3,"names":["React","useState","useParams","useNavigate","axios","jsxDEV","_jsxDEV","Payment","token","_s","bookingId","processing","setProcessing","navigate","handlePayment","bypass","response","post","headers","Authorization","alert","data","message","error","_error$response","_error$response$data","handleCancel","_error$response2","_error$response2$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","_c","$RefreshReg$"],"sources":["F:/Studies/Programs/IoC - System Design/BookMyShow/frontend/src/components/Payment.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nconst Payment = ({ token }) => {\n  const { bookingId } = useParams();\n  const [processing, setProcessing] = useState(false);\n  const navigate = useNavigate();\n\n  const handlePayment = async (bypass = false) => {\n    setProcessing(true);\n    try {\n      const response = await axios.post(\n        'http://localhost:5000/payment',\n        { bookingId, bypass },\n        { headers: { Authorization: token } }\n      );\n      alert(response.data.message);\n      navigate('/shows');\n    } catch (error) {\n      alert(error.response?.data?.error || 'Payment failed');\n    }\n    setProcessing(false);\n  };\n\n  const handleCancel = async () => {\n    try {\n      const response = await axios.post(\n        'http://localhost:5000/cancel',\n        { bookingId },\n        { headers: { Authorization: token } }\n      );\n      alert(response.data.message);\n      navigate('/shows');\n    } catch (error) {\n      alert(error.response?.data?.error || 'Cancellation failed');\n    }\n  };\n\n  return (\n    <div className=\"payment-container\">\n      <h2>Payment</h2>\n      <div className=\"payment-options\">\n        <p>Booking ID: {bookingId}</p>\n        <button \n          onClick={() => handlePayment(true)} \n          disabled={processing}\n        >\n          {processing ? 'Processing...' : 'Mock Payment (Bypass)'}\n        </button>\n        <button onClick={handleCancel}>Cancel & Refund</button>\n        <button onClick={() => navigate('/shows')}>Back to Shows</button>\n      </div>\n    </div>\n  );\n};\n\nexport default Payment;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}